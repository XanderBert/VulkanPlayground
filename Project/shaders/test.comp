#version 450

layout(push_constant) uniform constants
{
    mat4 model;
} push;

layout(set = 0, binding = 0) uniform UniformBufferObject
{
    mat4 viewProjection;
    vec4 viewPos;
} ubo;

layout(set = 1, binding = 1) uniform sampler2D depthResource;
layout(set = 1, binding = 2, rgba8) uniform image2D ssaoOutput;

layout (local_size_x = 16, local_size_y = 16, local_size_z = 1) in;

// SSAO Parameters
const int KERNEL_SIZE = 64;
const float RADIUS = 0.5;
const float BIAS = 0.025;

void main()
{
    ivec2 texCoord = ivec2(gl_GlobalInvocationID.xy);
    //vec2 texSize = vec2(imageSize(ssaoOutput));
    vec2 texSize = vec2(1920, 1080);

    //write something to the image
    imageStore(ssaoOutput, texCoord, vec4(1.0, 0.0, 0.0, 1.0));
}